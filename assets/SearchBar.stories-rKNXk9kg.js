import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{e as j,r as F}from"./iframe-BkOz4_K4.js";import{c as y}from"./index-CwSnwGEX.js";import{c as r}from"./utils-CXhk-AHn.js";import{I as Z}from"./IconSearch-pRAPXpDc.js";import{I as T}from"./IconX-DpgGUiAi.js";import"./preload-helper-Dp1pzeXC.js";import"./createReactComponent-Kjs7ao6y.js";const $=y(`rounded-sm bg-surface-primary min-h-8 border-interactive-default
  hover:border-interactive-hover focus-within:border-interactive-hover
  focus-within:ring-interactive-focused flex w-auto max-w-full items-center
  justify-between overflow-hidden border focus-within:ring-4`,{variants:{size:{sm:"h-8 text-sm",md:"h-10 text-md",lg:"h-12 text-md"},state:{default:"",filled:"",disabled:`!border-interactive-default bg-input-disabled
        text-body-disabled pointer-events-none cursor-not-allowed`}},defaultVariants:{size:"md",state:"default"}}),ee="gap-xxs px-sm disabled:bg-input-disabled flex h-full flex-1 items-center",ae=`rounded-l-sm gap-1 disabled:bg-input-disabled flex h-full flex-1 flex-row
  flex-nowrap items-center justify-between`,te=y(`text-shape-primary disabled:text-shape-interactive-disabled flex
  items-center`,{variants:{size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{size:"md"}}),se=`text-body-primary disabled:bg-input-disabled
  disabled:text-body-disabled placeholder:text-body-disabled flex-1
  bg-transparent leading-[100%] tracking-[0%] outline-none
  focus:placeholder-transparent disabled:cursor-not-allowed h-full`,re=y(`bg-shape-accent-gray-pale px-sm py-xs text-md text-shape-primary gap-xxs
  border-l-interactive-default hover:bg-interactive-neutral-hover
  hover:text-interactive-primary-hover focus:bg-shape-accent-gray-pale
  focus:text-interactive-primary-hover
  group-hover/wrapper:bg-shape-accent-gray-pale
  disabled:bg-shape-accent-gray-pale disabled:text-body-disabled
  disabled:hover:bg-shape-accent-gray-pale disabled:hover:text-body-disabled
  focus:ring-interactive-focused
  group-focus-within:border-l-interactive-primary-default flex h-full
  cursor-pointer flex-row items-center justify-center border-l text-center
  focus:ring-4 focus:outline-none disabled:cursor-not-allowed`,{variants:{size:{sm:"text-sm",md:"text-md",lg:"text-md"}},defaultVariants:{size:"md"}}),ne="gap-2 text-sm text-body-secondary flex-row",le=y(`gap-1 bg-shape-accent-gray-pale px-xs py-xxs text-md text-accent-gray-strong
  flex items-center rounded-full`,{variants:{size:{sm:"h-5",md:"h-6",lg:"h-6"}},defaultVariants:{size:"md"}}),ie=`h-3 w-3 text-shape-primary flex items-center justify-center rounded-full
  disabled:cursor-not-allowed disabled:opacity-50`,oe="gap-2 flex min-h-full flex-1 flex-row flex-nowrap items-center",de={sm:16,md:20,lg:24},S=j.forwardRef(({size:l="md",state:o,value:i="",className:w,onChange:d,onSearch:O,placeholder:P,disabled:W,supportText:V,searchButtonText:G="検索",...X},J)=>{const s=W||o==="disabled",[n,u]=j.useState([]);let t;typeof o=="string"?t=o:s?t="disabled":n.length>0?t="filled":t="default";const C=j.useRef(t);F.useEffect(()=>{C.current==="filled"&&t!=="filled"&&u([]),C.current=t},[t]);const Q=a=>{s||d&&d(a)},U=a=>{if(!s){if(a.key==="Enter"&&i.trim()){if(u([...n,i.trim()]),d){const p={...a,target:{value:""}};d(p)}a.preventDefault()}(a.key==="Backspace"||a.key==="Delete")&&!i&&n.length>0&&(u(n.slice(0,-1)),a.preventDefault())}},Y=a=>{s||u(n.filter((p,c)=>c!==a))};return e.jsxs("div",{className:r("gap-1 group flex flex-col",s?"pointer-events-none":"",w),"aria-disabled":s?"true":void 0,children:[e.jsxs("div",{className:r($({size:l,state:t}),"group/wrapper"),children:[e.jsxs("div",{className:r(ee),children:[e.jsxs("div",{className:r(oe,ae),children:[e.jsx("span",{className:r(te({size:l})),children:e.jsx(Z,{size:de[l]})}),n.map((a,p)=>e.jsxs("span",{className:le(),children:[e.jsx("span",{children:a}),e.jsx("button",{type:"button",className:r(ie,"bg-surface-primary cursor-pointer"),onClick:c=>{c.stopPropagation(),c.preventDefault(),Y(p)},onMouseDown:c=>{c.preventDefault()},tabIndex:-1,"aria-label":"Remove keyword",disabled:s,children:e.jsx(T,{size:8})})]},p)),e.jsx("input",{ref:J,className:r(se),type:"text",value:i,onChange:Q,onKeyDown:U,placeholder:t==="filled"||n.length>0?"":P,disabled:s,...X})]}),(i||n.length>0)&&!s&&e.jsx("button",{type:"button","aria-label":"Clear",className:"text-shape-primary cursor-pointer",onClick:()=>{d&&d({target:{value:""}}),u([])},tabIndex:-1,children:e.jsx(T,{size:20})})]}),e.jsx("div",{className:"flex h-full items-center",children:e.jsx("button",{type:"button",className:r(re({size:l})),onClick:O,disabled:s,children:G})})]}),V&&e.jsx("div",{className:r(ne,"hidden group-focus-within:flex",t==="filled"&&"flex"),children:V})]})});S.displayName="SearchBar";S.__docgenInfo={description:"",methods:[],displayName:"SearchBar",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},classname:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},state:{required:!1,tsType:{name:"union",raw:"'default' | 'filled' | 'disabled'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'filled'"},{name:"literal",value:"'disabled'"}]},description:""},supportText:{required:!1,tsType:{name:"string"},description:""},searchButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'検索'",computed:!1}}},composes:["Omit","VariantProps"]};const ve={title:"Components/SearchBar",component:S,parameters:{docs:{description:{component:"A search input component with keyword chip functionality and natural hover/focus states using Tailwind CSS."}}},argTypes:{size:{control:{type:"select"},options:["sm","md","lg"]},placeholder:{control:{type:"text"}},state:{control:{type:"radio"},options:["default","filled","disabled"]},value:{table:{disable:!0}},onChange:{table:{disable:!0}},onSearch:{table:{disable:!0}},searchButtonText:{table:{disable:!0}},disabled:{table:{disable:!0}}}},v=l=>{const[o,i]=F.useState("");return e.jsx(S,{...l,value:o,onChange:w=>i(w.target.value),onSearch:()=>alert("Search: "+o),state:l.state})},x={placeholder:"SDS ID/SDSファイル名/製品名/化学物質名/CAS番号/法令名/細則名",supportText:"Enterキーを押して、キーワードを確定してください。キーワードは複数入力することができます。",size:"md",state:"default"},m=v.bind({});m.args=x;const f=v.bind({});f.args={...x,size:"sm"};const h=v.bind({});h.args={...x,size:"lg"};const g=v.bind({});g.args={...x,state:"filled"};const b=v.bind({});b.args={...x,state:"disabled"};var D,z,B;m.parameters={...m.parameters,docs:{...(D=m.parameters)==null?void 0:D.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(B=(z=m.parameters)==null?void 0:z.docs)==null?void 0:B.source}}};var N,I,E;f.parameters={...f.parameters,docs:{...(N=f.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(E=(I=f.parameters)==null?void 0:I.docs)==null?void 0:E.source}}};var k,q,R;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(R=(q=h.parameters)==null?void 0:q.docs)==null?void 0:R.source}}};var L,M,_;g.parameters={...g.parameters,docs:{...(L=g.parameters)==null?void 0:L.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(_=(M=g.parameters)==null?void 0:M.docs)==null?void 0:_.source}}};var K,A,H;b.parameters={...b.parameters,docs:{...(K=b.parameters)==null?void 0:K.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(H=(A=b.parameters)==null?void 0:A.docs)==null?void 0:H.source}}};const xe=["Default","Small","Large","Filled","Disabled"];export{m as Default,b as Disabled,g as Filled,h as Large,f as Small,xe as __namedExportsOrder,ve as default};
