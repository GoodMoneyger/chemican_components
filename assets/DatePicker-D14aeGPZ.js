import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{e as l}from"./iframe-CIKh5Z7i.js";import{R as z,T as K,P as U,C as A}from"./index-Cp1Mbksy.js";import{c as w}from"./utils-Dp7DHkto.js";import{C as L}from"./Calendar-C8SkhAVH.js";import{I as _,a as F}from"./Input-Cl2Cau1K.js";const B="bg-surface-primary rounded-lg z-50 w-auto  max-w-none shadow-lg",m=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;const r=new Date(e);return isNaN(r.getTime())?null:r},G=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=l.forwardRef(({value:e,onChange:r,defaultValue:b,minDate:g,maxDate:h,disabled:p=!1,error:v=!1,icon:x,iconSize:k=14,placeholder:q,formatDate:N=G,className:C,contentClassName:I,defaultOpen:R=!1,open:u,onOpenChange:s,side:P="bottom"},V)=>{const[j,S]=l.useState(()=>m(b||null)),[E,y]=l.useState(R),D=e!==void 0,c=D?m(e):j,a=u!==void 0?u:E,o=l.useMemo(()=>m(g||null),[g]),d=l.useMemo(()=>m(h||null),[h]),M=l.useMemo(()=>!o||!d?!0:o<=d,[o,d]),O=t=>{const f=t||null;D||S(f),r==null||r(f),f&&(u===void 0&&y(!1),s==null||s(!1))},n=t=>{u===void 0&&y(t),s==null||s(t)},W=t=>{switch(t.key){case"ArrowDown":case"ArrowUp":case"Enter":case" ":t.preventDefault(),a||n(!0);break;case"Escape":a&&(t.preventDefault(),n(!1));break}};return i.jsxs(z,{open:a,onOpenChange:n,children:[i.jsx(K,{asChild:!0,children:i.jsx(_,{ref:V,type:"text",readOnly:!0,placeholder:q,value:c?N(c):void 0,disabled:p,invalid:v,trailingIcon:x||F,trailingIconSize:k,onTrailingIconClick:()=>!p&&n(!a),className:w("pl-0 py-md rounded-sm gap-2 text-md min-h-[46px] cursor-pointer",a&&"ring-interactive-focused ring-4",C),onKeyDown:W,onClick:()=>!p&&n(!a),"aria-expanded":a,"aria-haspopup":"dialog"})}),i.jsx(U,{children:i.jsx(A,{className:w(B,I),sideOffset:4,align:"start",alignOffset:0,side:P,avoidCollisions:!1,collisionPadding:16,sticky:"always",onEscapeKeyDown:()=>n(!1),onPointerDownOutside:()=>n(!1),role:"dialog","aria-label":"Date picker calendar",children:i.jsx(L,{value:c,onChange:O,...o&&{minDate:o},...d&&{maxDate:d},disabled:!M,showOutsideDays:!0,fixedWeeks:!0,animate:!0,defaultMonth:c||new Date})})})]})});T.displayName="DatePicker";T.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{value:{required:!1,tsType:{name:"union",raw:"Date | string | null",elements:[{name:"Date"},{name:"string"},{name:"null"}]},description:"The selected date value. Can be a Date object, string, or null."},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date | null) => void",signature:{arguments:[{type:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},name:"date"}],return:{name:"void"}}},description:"Callback function called when the date selection changes."},defaultValue:{required:!1,tsType:{name:"union",raw:"Date | string | null",elements:[{name:"Date"},{name:"string"},{name:"null"}]},description:"The default date value for uncontrolled usage."},minDate:{required:!1,tsType:{name:"Date"},description:"The minimum selectable date."},maxDate:{required:!1,tsType:{name:"Date"},description:"The maximum selectable date."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the date picker is disabled.",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"boolean"},description:"Whether the date picker input is in an error state.",defaultValue:{value:"false",computed:!1}},icon:{required:!1,tsType:{name:"union",raw:"React.ReactNode | TablerIcon",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"TablerIcon"}]},description:"Custom icon to display in the trigger button."},iconSize:{required:!1,tsType:{name:"number"},description:"Size of the trailing icon in pixels.",defaultValue:{value:"14",computed:!1}},placeholder:{required:!1,tsType:{name:"string"},description:"Placeholder text to display when no date is selected."},formatDate:{required:!1,tsType:{name:"signature",type:"function",raw:"(date: Date) => string",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"string"}}},description:"Format function for displaying the selected date.",defaultValue:{value:`(date: Date): string => {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
  });
}`,computed:!1}},className:{required:!1,tsType:{name:"string"},description:"Custom class name for the trigger element."},contentClassName:{required:!1,tsType:{name:"string"},description:"Custom class name for the popover content."},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"Whether the popover should be open by default.",defaultValue:{value:"false",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"Controlled open state of the popover."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback function called when the popover open state changes."},side:{required:!1,tsType:{name:"union",raw:"'top' | 'right' | 'bottom' | 'left'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'right'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"}]},description:"Which side to display the calendar relative to the input.",defaultValue:{value:"'bottom'",computed:!1}}},composes:["Omit"]};export{T as D};
