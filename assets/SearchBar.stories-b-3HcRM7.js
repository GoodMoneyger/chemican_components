import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{e as w,r as H}from"./iframe--ywS61NI.js";import{c as y}from"./index-VFRA1EAd.js";import{c as r}from"./utils-zRovIat4.js";import{I as Y}from"./IconSearch-qSj_DxWW.js";import{I as C}from"./IconX-CATO0BfC.js";import"./preload-helper-Dp1pzeXC.js";import"./createReactComponent-Deen7hXL.js";const Z=y(`rounded-sm bg-surface-primary min-h-8 border-interactive-default
  hover:border-interactive-hover focus-within:border-interactive-hover
  focus-within:ring-interactive-focused flex w-auto max-w-full items-center
  justify-between overflow-hidden border focus-within:ring-4`,{variants:{size:{sm:"h-8 text-sm",md:"h-10 text-md",lg:"h-12 text-lg"},state:{default:"",filled:"",disabled:`!border-interactive-default bg-input-disabled
        text-body-disabled pointer-events-none cursor-not-allowed`}},defaultVariants:{size:"md",state:"default"}}),$="gap-xxs px-sm disabled:bg-input-disabled flex h-full flex-1 items-center",ee=`rounded-l-sm gap-1 disabled:bg-input-disabled flex h-full flex-1 flex-row
  flex-nowrap items-center justify-between`,ae=y(`text-shape-primary disabled:text-shape-interactive-disabled flex
  items-center`,{variants:{size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{size:"md"}}),te=`text-md text-body-primary disabled:bg-input-disabled
  disabled:text-body-disabled placeholder:text-body-disabled flex-1
  bg-transparent leading-[100%] tracking-[0%] outline-none
  focus:placeholder-transparent disabled:cursor-not-allowed`,se=y(`bg-shape-accent-gray-pale px-sm py-xs text-md text-shape-primary gap-xxs
  border-l-interactive-default hover:bg-interactive-neutral-hover
  hover:text-interactive-primary-hover focus:bg-shape-accent-gray-pale
  focus:text-interactive-primary-hover
  group-hover/wrapper:bg-shape-accent-gray-pale
  disabled:bg-shape-accent-gray-pale disabled:text-body-disabled
  disabled:hover:bg-shape-accent-gray-pale disabled:hover:text-body-disabled
  flex h-full cursor-pointer flex-row items-center justify-center border-l
  text-center disabled:cursor-not-allowed`,{variants:{size:{sm:"text-sm",md:"text-md",lg:"text-lg"}},defaultVariants:{size:"md"}}),re="gap-2 text-sm text-body-secondary flex-row",le=y(`gap-1 bg-shape-accent-gray-pale px-xs py-xxs text-md text-accent-gray-strong
  flex items-center rounded-full`,{variants:{size:{sm:"h-5",md:"h-6",lg:"h-6"}},defaultVariants:{size:"md"}}),ne=`h-3 w-3 text-shape-primary flex items-center justify-center rounded-full
  disabled:cursor-not-allowed disabled:opacity-50`,ie="gap-2 flex min-h-full flex-1 flex-row flex-nowrap items-center",oe={sm:16,md:20,lg:24},S=w.forwardRef(({size:i="md",state:d,value:o="",onChange:l,onSearch:F,placeholder:O,disabled:P,supportText:j,searchButtonText:W="検索",...G},X)=>{const s=P||d==="disabled",[n,u]=w.useState([]);let t;typeof d=="string"?t=d:s?t="disabled":n.length>0?t="filled":t="default";const V=w.useRef(t);H.useEffect(()=>{V.current==="filled"&&t!=="filled"&&u([]),V.current=t},[t]);const J=a=>{s||l&&l(a)},Q=a=>{if(!s){if(a.key==="Enter"&&o.trim()){if(u([...n,o.trim()]),l){const p={...a,target:{value:""}};l(p)}a.preventDefault()}(a.key==="Backspace"||a.key==="Delete")&&!o&&n.length>0&&(u(n.slice(0,-1)),a.preventDefault())}},U=a=>{s||u(n.filter((p,c)=>c!==a))};return e.jsxs("div",{className:r("gap-1 group flex flex-col",s?"pointer-events-none":""),"aria-disabled":s?"true":void 0,children:[e.jsxs("div",{className:r(Z({size:i,state:t}),"group/wrapper"),children:[e.jsxs("div",{className:r($),children:[e.jsxs("div",{className:r(ie,ee),children:[e.jsx("span",{className:r(ae({size:i})),children:e.jsx(Y,{size:oe[i]})}),n.map((a,p)=>e.jsxs("span",{className:le(),children:[e.jsx("span",{children:a}),e.jsx("button",{type:"button",className:r(ne,"bg-surface-primary cursor-pointer"),onClick:c=>{c.stopPropagation(),c.preventDefault(),U(p)},onMouseDown:c=>{c.preventDefault()},tabIndex:-1,"aria-label":"Remove keyword",disabled:s,children:e.jsx(C,{size:8})})]},p)),e.jsx("input",{ref:X,className:r(te),type:"text",value:o,onChange:J,onKeyDown:Q,placeholder:t==="filled"||n.length>0?"":O,disabled:s,...G})]}),(o||n.length>0)&&!s&&e.jsx("button",{type:"button","aria-label":"Clear",className:"text-shape-primary cursor-pointer",onClick:()=>{l&&l({target:{value:""}}),u([])},tabIndex:-1,children:e.jsx(C,{size:20})})]}),e.jsx("div",{className:"flex h-full items-center",children:e.jsx("button",{type:"button",className:r(se({size:i})),onClick:F,disabled:s,children:W})})]}),j&&e.jsx("div",{className:r(re,"hidden group-focus-within:flex",t==="filled"&&"flex"),children:j})]})});S.displayName="SearchBar";S.__docgenInfo={description:"",methods:[],displayName:"SearchBar",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},state:{required:!1,tsType:{name:"union",raw:"'default' | 'filled' | 'disabled'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'filled'"},{name:"literal",value:"'disabled'"}]},description:""},supportText:{required:!1,tsType:{name:"string"},description:""},searchButtonText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'検索'",computed:!1}}},composes:["Omit","VariantProps"]};const be={title:"Components/SearchBar",component:S,parameters:{docs:{description:{component:"A search input component with keyword chip functionality and natural hover/focus states using Tailwind CSS."}}},argTypes:{size:{control:{type:"select"},options:["sm","md","lg"]},placeholder:{control:{type:"text"}},state:{control:{type:"radio"},options:["default","filled","disabled"]},value:{table:{disable:!0}},onChange:{table:{disable:!0}},onSearch:{table:{disable:!0}},searchButtonText:{table:{disable:!0}},disabled:{table:{disable:!0}}}},v=i=>{const[d,o]=H.useState("");return e.jsx(S,{...i,value:d,onChange:l=>o(l.target.value),onSearch:()=>alert("Search: "+d),state:i.state})},x={placeholder:"SDS ID/SDSファイル名/製品名/化学物質名/CAS番号/法令名/細則名",supportText:"Enterキーを押して、キーワードを確定してください。キーワードは複数入力することができます。",size:"md",state:"default"},m=v.bind({});m.args=x;const f=v.bind({});f.args={...x,size:"sm"};const h=v.bind({});h.args={...x,size:"lg"};const g=v.bind({});g.args={...x,state:"filled"};const b=v.bind({});b.args={...x,state:"disabled"};var T,D,z;m.parameters={...m.parameters,docs:{...(T=m.parameters)==null?void 0:T.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(z=(D=m.parameters)==null?void 0:D.docs)==null?void 0:z.source}}};var B,N,I;f.parameters={...f.parameters,docs:{...(B=f.parameters)==null?void 0:B.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(I=(N=f.parameters)==null?void 0:N.docs)==null?void 0:I.source}}};var E,k,R;h.parameters={...h.parameters,docs:{...(E=h.parameters)==null?void 0:E.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(R=(k=h.parameters)==null?void 0:k.docs)==null?void 0:R.source}}};var q,L,M;g.parameters={...g.parameters,docs:{...(q=g.parameters)==null?void 0:q.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(M=(L=g.parameters)==null?void 0:L.docs)==null?void 0:M.source}}};var _,K,A;b.parameters={...b.parameters,docs:{...(_=b.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(A=(K=b.parameters)==null?void 0:K.docs)==null?void 0:A.source}}};const ve=["Default","Small","Large","Filled","Disabled"];export{m as Default,b as Disabled,g as Filled,h as Large,f as Small,ve as __namedExportsOrder,be as default};
