import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{e as j,r as W}from"./iframe-BJ1xBd3R.js";import{c as w}from"./index-5gfEbQFy.js";import{c as i}from"./utils-CL1dkygU.js";import{I as ee}from"./IconSearch-DCTNoJSs.js";import{I as N}from"./IconX-C_ComZVd.js";import"./preload-helper-Dp1pzeXC.js";import"./createReactComponent-ZUGr92FI.js";const ae=w(`rounded-sm bg-surface-primary border-interactive-default
  hover:border-interactive-hover focus-within:border-interactive-hover
  focus-within:ring-interactive-focused flex w-auto overflow-hidden border
  focus-within:ring-4`,{variants:{size:{sm:"min-h-8 text-sm",md:"min-h-10 text-md",lg:"min-h-12 text-md"},state:{default:"",filled:"",disabled:`!border-interactive-default bg-input-disabled
        text-body-disabled pointer-events-none cursor-not-allowed`}},defaultVariants:{size:"md",state:"default"}}),te="gap-xxs px-sm py-xs disabled:bg-input-disabled flex min-h-full flex-1 items-center flex-wrap",se=`rounded-l-sm gap-1 disabled:bg-input-disabled flex min-h-full flex-1 flex-row
  flex-wrap items-center justify-start`,re=w(`text-shape-primary disabled:text-shape-interactive-disabled flex
  items-center`,{variants:{size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{size:"md"}}),ne=`min-w-24 min-h-6 text-md text-body-primary disabled:bg-input-disabled
  disabled:text-body-disabled placeholder:text-body-disabled flex-1
  bg-transparent leading-[100%] tracking-[0%] outline-none
  focus:placeholder-transparent disabled:cursor-not-allowed h-full`,le=w(`bg-shape-accent-gray-pale px-sm text-md text-shape-primary
  border-l-interactive-default hover:bg-interactive-neutral-hover
  hover:text-interactive-primary-hover focus:bg-shape-accent-gray-pale
  focus:text-interactive-primary-hover
  group-hover/wrapper:bg-shape-accent-gray-pale
  disabled:bg-shape-accent-gray-pale disabled:text-body-disabled
  disabled:hover:bg-shape-accent-gray-pale disabled:hover:text-body-disabled
  focus:ring-interactive-focused
  group-focus-within:border-l-interactive-primary-default cursor-pointer
  items-center justify-center border-l text-center focus:ring-4
  focus:outline-none disabled:cursor-not-allowed`,{variants:{size:{sm:"text-sm",md:"text-md",lg:"text-md"}},defaultVariants:{size:"md"}}),ie="gap-xs text-sm text-body-secondary flex-row",oe=w(`gap-xxs bg-shape-accent-gray-pale px-xs py-xxs text-md
  text-accent-gray-strong flex items-center rounded-full`,{variants:{size:{sm:"h-5",md:"h-6",lg:"h-6"}},defaultVariants:{size:"md"}}),de=`h-3 w-3 text-shape-primary flex items-center justify-center rounded-full
  disabled:cursor-not-allowed disabled:opacity-50`,ce="gap-xs flex min-h-full flex-1 flex-row flex-nowrap items-center",ue={sm:16,md:20,lg:24},S=j.forwardRef(({size:o="md",state:u,value:d="",className:V,onChange:p,onSearch:a,placeholder:G,disabled:O,supportText:T,searchButtonText:X="検索",searchOnKeywordAdd:C=!1,...J},Q)=>{const n=O||u==="disabled",[l,m]=j.useState([]);let s;typeof u=="string"?s=u:n?s="disabled":l.length>0?s="filled":s="default";const R=j.useRef(s);W.useEffect(()=>{R.current==="filled"&&s!=="filled"&&m([]),R.current=s},[s]);const U=t=>{n||p&&p(t)},Y=t=>{if(!n){if(t.key==="Enter"&&d.trim()){const r=[...l,d.trim()];if(m(r),p){const c={...t,target:{value:""}};p(c)}C&&a&&a(r),t.preventDefault()}if((t.key==="Backspace"||t.key==="Delete")&&!d&&l.length>0){const r=l.slice(0,-1);m(r),C&&a&&a(r),t.preventDefault()}}},Z=t=>{if(n)return;const r=l.filter((c,$)=>$!==t);m(r),C&&a&&a(r)};return e.jsxs("div",{className:i("gap-xxs group flex flex-col",n?"pointer-events-none":"",V),"aria-disabled":n?"true":void 0,children:[e.jsxs("div",{className:i(ae({size:o,state:s}),"group/wrapper"),children:[e.jsxs("div",{className:i(te),children:[e.jsxs("div",{className:i(ce,se),children:[e.jsx("span",{className:i(re({size:o})),children:e.jsx(ee,{size:ue[o]})}),l.map((t,r)=>e.jsxs("span",{className:oe(),children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",className:i(de,"bg-surface-primary cursor-pointer"),onClick:c=>{c.stopPropagation(),c.preventDefault(),Z(r)},onMouseDown:c=>{c.preventDefault()},tabIndex:-1,"aria-label":"Remove keyword",disabled:n,children:e.jsx(N,{size:8})})]},r)),e.jsx("input",{ref:Q,className:i(ne),type:"text",value:d,onChange:U,onKeyDown:Y,placeholder:s==="filled"||l.length>0?"":G,disabled:n,...J})]}),(d||l.length>0)&&!n&&e.jsx("button",{type:"button","aria-label":"Clear",className:"text-shape-primary cursor-pointer",onClick:()=>{p&&p({target:{value:""}}),a==null||a([]),m([])},tabIndex:-1,children:e.jsx(N,{size:20})})]}),e.jsx("button",{type:"button",className:i(le({size:o})),onClick:()=>a==null?void 0:a(l),disabled:n,children:X})]}),T&&e.jsx("div",{className:i(ie,"hidden group-focus-within:flex",s==="filled"&&"flex"),children:T})]})});S.displayName="SearchBar";S.__docgenInfo={description:"",methods:[],displayName:"SearchBar",props:{value:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},classname:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(keywords: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"keywords"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}},state:{required:!1,tsType:{name:"union",raw:"'default' | 'filled' | 'disabled'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'filled'"},{name:"literal",value:"'disabled'"}]},description:""},supportText:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},searchButtonText:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"'検索'",computed:!1}},searchOnKeywordAdd:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["Omit","VariantProps"]};const ye={title:"Components/SearchBar",component:S,parameters:{docs:{description:{component:"A search input component with keyword chip functionality and natural hover/focus states using Tailwind CSS."}}},argTypes:{size:{control:{type:"select"},options:["sm","md","lg"]},placeholder:{control:{type:"text"}},state:{control:{type:"radio"},options:["default","filled","disabled"]},value:{table:{disable:!0}},onChange:{table:{disable:!0}},onSearch:{table:{disable:!0}},searchButtonText:{table:{disable:!0}},disabled:{table:{disable:!0}}}},x=o=>{const[u,d]=W.useState("");return e.jsx(S,{...o,value:u,onChange:V=>d(V.target.value),onSearch:()=>alert("Search: "+u),state:o.state})},y={placeholder:"SDS ID/SDSファイル名/製品名/化学物質名/CAS番号/法令名/細則名",supportText:"Enterキーを押して、キーワードを確定してください。キーワードは複数入力することができます。",size:"md",state:"default"},f=x.bind({});f.args=y;const g=x.bind({});g.args={...y,size:"sm"};const h=x.bind({});h.args={...y,size:"lg"};const b=x.bind({});b.args={...y,state:"filled"};const v=x.bind({});v.args={...y,state:"disabled"};var D,z,B;f.parameters={...f.parameters,docs:{...(D=f.parameters)==null?void 0:D.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(B=(z=f.parameters)==null?void 0:z.docs)==null?void 0:B.source}}};var k,I,E;g.parameters={...g.parameters,docs:{...(k=g.parameters)==null?void 0:k.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(E=(I=g.parameters)==null?void 0:I.docs)==null?void 0:E.source}}};var q,K,L;h.parameters={...h.parameters,docs:{...(q=h.parameters)==null?void 0:q.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(L=(K=h.parameters)==null?void 0:K.docs)==null?void 0:L.source}}};var M,_,A;b.parameters={...b.parameters,docs:{...(M=b.parameters)==null?void 0:M.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(A=(_=b.parameters)==null?void 0:_.docs)==null?void 0:A.source}}};var H,F,P;v.parameters={...v.parameters,docs:{...(H=v.parameters)==null?void 0:H.docs,source:{originalSource:`args => {
  const [value, setValue] = useState('');
  return <SearchBar {...args} value={value} onChange={e => setValue(e.target.value)} onSearch={() => alert('Search: ' + value)} state={args.state} // <-- pass state prop
  />;
}`,...(P=(F=v.parameters)==null?void 0:F.docs)==null?void 0:P.source}}};const we=["Default","Small","Large","Filled","Disabled"];export{f as Default,v as Disabled,b as Filled,h as Large,g as Small,we as __namedExportsOrder,ye as default};
