import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{B as k}from"./Button-BmLlue07.js";import{r as i,e as ne}from"./iframe-CGLGmI_6.js";import{c as re}from"./index-DjaWEFSa.js";import{u as se,c as w}from"./index-BF6Z73Pt.js";import{u as $,a as ae}from"./index-ByTpOCjA.js";import{c as ie,P as le}from"./index--FMEF4bS.js";import{P as ce,D as ue}from"./index-CrR8JDDY.js";import{u as pe}from"./index-DeL9PIka.js";import{c as X,R as de,A as me,C as fe,a as xe}from"./index-BhiqdvtV.js";import{P as z}from"./index-DF-wFcu4.js";import{R as ve}from"./index-7uAgznR1.js";import{c as he}from"./utils-DcIGLQET.js";import"./Spinner-D4MdITtx.js";import"./preload-helper-Dp1pzeXC.js";import"./index-CI0QdrZn.js";import"./index-Aljw4-6v.js";import"./index-DJFjL5MK.js";import"./index-AHzrLbrW.js";var[O]=ie("Tooltip",[X]),A=X(),K="TooltipProvider",ye=700,L="tooltip.open",[ge,I]=O(K),W=e=>{const{__scopeTooltip:o,delayDuration:t=ye,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:l}=e,c=i.useRef(!0),f=i.useRef(!1),a=i.useRef(0);return i.useEffect(()=>{const d=a.current;return()=>window.clearTimeout(d)},[]),s.jsx(ge,{scope:o,isOpenDelayedRef:c,delayDuration:t,onOpen:i.useCallback(()=>{window.clearTimeout(a.current),c.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:f,onPointerInTransitChange:i.useCallback(d=>{f.current=d},[]),disableHoverableContent:r,children:l})};W.displayName=K;var N="Tooltip",[Te,j]=O(N),J=e=>{const{__scopeTooltip:o,children:t,open:n,defaultOpen:r,onOpenChange:l,disableHoverableContent:c,delayDuration:f}=e,a=I(N,e.__scopeTooltip),d=A(o),[u,m]=i.useState(null),x=pe(),p=i.useRef(0),v=c??a.disableHoverableContent,y=f??a.delayDuration,h=i.useRef(!1),[T,g]=se({prop:n,defaultProp:r??!1,onChange:B=>{B?(a.onOpen(),document.dispatchEvent(new CustomEvent(L))):a.onClose(),l==null||l(B)},caller:N}),R=i.useMemo(()=>T?h.current?"delayed-open":"instant-open":"closed",[T]),P=i.useCallback(()=>{window.clearTimeout(p.current),p.current=0,h.current=!1,g(!0)},[g]),E=i.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),S=i.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{h.current=!0,g(!0),p.current=0},y)},[y,g]);return i.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(de,{...d,children:s.jsx(Te,{scope:o,contentId:x,open:T,stateAttribute:R,trigger:u,onTriggerChange:m,onTriggerEnter:i.useCallback(()=>{a.isOpenDelayedRef.current?S():P()},[a.isOpenDelayedRef,S,P]),onTriggerLeave:i.useCallback(()=>{v?E():(window.clearTimeout(p.current),p.current=0)},[E,v]),onOpen:P,onClose:E,disableHoverableContent:v,children:t})})};J.displayName=N;var H="TooltipTrigger",Q=i.forwardRef((e,o)=>{const{__scopeTooltip:t,...n}=e,r=j(H,t),l=I(H,t),c=A(t),f=i.useRef(null),a=$(o,f,r.onTriggerChange),d=i.useRef(!1),u=i.useRef(!1),m=i.useCallback(()=>d.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(me,{asChild:!0,...c,children:s.jsx(le.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:a,onPointerMove:w(e.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!l.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:w(e.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:w(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:w(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:w(e.onBlur,r.onClose),onClick:w(e.onClick,r.onClose)})})});Q.displayName=H;var M="TooltipPortal",[we,be]=O(M,{forceMount:void 0}),Z=e=>{const{__scopeTooltip:o,forceMount:t,children:n,container:r}=e,l=j(M,o);return s.jsx(we,{scope:o,forceMount:t,children:s.jsx(z,{present:t||l.open,children:s.jsx(ce,{asChild:!0,container:r,children:n})})})};Z.displayName=M;var b="TooltipContent",ee=i.forwardRef((e,o)=>{const t=be(b,e.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...l}=e,c=j(b,e.__scopeTooltip);return s.jsx(z,{present:n||c.open,children:c.disableHoverableContent?s.jsx(te,{side:r,...l,ref:o}):s.jsx(Ce,{side:r,...l,ref:o})})}),Ce=i.forwardRef((e,o)=>{const t=j(b,e.__scopeTooltip),n=I(b,e.__scopeTooltip),r=i.useRef(null),l=$(o,r),[c,f]=i.useState(null),{trigger:a,onClose:d}=t,u=r.current,{onPointerInTransitChange:m}=n,x=i.useCallback(()=>{f(null),m(!1)},[m]),p=i.useCallback((v,y)=>{const h=v.currentTarget,T={x:v.clientX,y:v.clientY},g=je(T,h.getBoundingClientRect()),R=_e(T,g),P=De(y.getBoundingClientRect()),E=Ae([...R,...P]);f(E),m(!0)},[m]);return i.useEffect(()=>()=>x(),[x]),i.useEffect(()=>{if(a&&u){const v=h=>p(h,u),y=h=>p(h,a);return a.addEventListener("pointerleave",v),u.addEventListener("pointerleave",y),()=>{a.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",y)}}},[a,u,p,x]),i.useEffect(()=>{if(c){const v=y=>{const h=y.target,T={x:y.clientX,y:y.clientY},g=(a==null?void 0:a.contains(h))||(u==null?void 0:u.contains(h)),R=!Oe(T,c);g?x():R&&(x(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[a,u,c,d,x]),s.jsx(te,{...e,ref:l})}),[Re,Pe]=O(N,{isInside:!1}),Ee=ae("TooltipContent"),te=i.forwardRef((e,o)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:l,onPointerDownOutside:c,...f}=e,a=j(b,t),d=A(t),{onClose:u}=a;return i.useEffect(()=>(document.addEventListener(L,u),()=>document.removeEventListener(L,u)),[u]),i.useEffect(()=>{if(a.trigger){const m=x=>{const p=x.target;p!=null&&p.contains(a.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[a.trigger,u]),s.jsx(ue,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:s.jsxs(fe,{"data-state":a.stateAttribute,...d,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Ee,{children:n}),s.jsx(Re,{scope:t,isInside:!0,children:s.jsx(ve,{id:a.contentId,role:"tooltip",children:r||n})})]})})});ee.displayName=b;var oe="TooltipArrow",Ne=i.forwardRef((e,o)=>{const{__scopeTooltip:t,...n}=e,r=A(t);return Pe(oe,t).isInside?null:s.jsx(xe,{...r,...n,ref:o})});Ne.displayName=oe;function je(e,o){const t=Math.abs(o.top-e.y),n=Math.abs(o.bottom-e.y),r=Math.abs(o.right-e.x),l=Math.abs(o.left-e.x);switch(Math.min(t,n,r,l)){case l:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _e(e,o,t=5){const n=[];switch(o){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function De(e){const{top:o,right:t,bottom:n,left:r}=e;return[{x:r,y:o},{x:t,y:o},{x:t,y:n},{x:r,y:n}]}function Oe(e,o){const{x:t,y:n}=e;let r=!1;for(let l=0,c=o.length-1;l<o.length;c=l++){const f=o[l],a=o[c],d=f.x,u=f.y,m=a.x,x=a.y;u>n!=x>n&&t<(m-d)*(n-u)/(x-u)+d&&(r=!r)}return r}function Ae(e){const o=e.slice();return o.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),ke(o)}function ke(e){if(e.length<=1)return e.slice();const o=[];for(let n=0;n<e.length;n++){const r=e[n];for(;o.length>=2;){const l=o[o.length-1],c=o[o.length-2];if((l.x-c.x)*(r.y-c.y)>=(l.y-c.y)*(r.x-c.x))o.pop();else break}o.push(r)}o.pop();const t=[];for(let n=e.length-1;n>=0;n--){const r=e[n];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(r.y-c.y)>=(l.y-c.y)*(r.x-c.x))t.pop();else break}t.push(r)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var Le=W,He=J,Ie=Q,Me=Z,Se=ee;const Be=re(`px-sm py-xs rounded-sm text-sm font-normal min-w-32 max-w-sm md:max-w-md
  lg:max-w-lg z-tooltip leading-[1.5] tracking-[0] break-all`,{variants:{intent:{normal:"text-body-inverse bg-surface-tooltip-neutral shadow-high",accent:"text-body-inverse bg-surface-tooltip-primary shadow-high"}},defaultVariants:{intent:"normal"}}),Ve=Le,C=ne.forwardRef(({children:e,content:o,intent:t,side:n="top",sideOffset:r=4,align:l="center",alignOffset:c,delayDuration:f=700,disableHoverableContent:a,className:d,...u},m)=>s.jsxs(He,{delayDuration:f,...a!==void 0&&{disableHoverableContent:a},children:[s.jsx(Ie,{asChild:!0,children:e}),s.jsx(Me,{children:s.jsx(Se,{ref:m,side:n,sideOffset:r,align:l,...c!==void 0&&{alignOffset:c},className:he(Be({intent:t}),d),...u,children:o})})]}));C.displayName="Tooltip";C.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},side:{required:!1,tsType:{name:"union",raw:"'top' | 'right' | 'bottom' | 'left'",elements:[{name:"literal",value:"'top'"},{name:"literal",value:"'right'"},{name:"literal",value:"'bottom'"},{name:"literal",value:"'left'"}]},description:"",defaultValue:{value:"'top'",computed:!1}},sideOffset:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}},align:{required:!1,tsType:{name:"union",raw:"'start' | 'center' | 'end'",elements:[{name:"literal",value:"'start'"},{name:"literal",value:"'center'"},{name:"literal",value:"'end'"}]},description:"",defaultValue:{value:"'center'",computed:!1}},alignOffset:{required:!1,tsType:{name:"number"},description:""},delayDuration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"700",computed:!1}},disableHoverableContent:{required:!1,tsType:{name:"boolean"},description:""}},composes:["Omit","VariantProps"]};const at={title:"Components/Tooltip",component:C,parameters:{layout:"centered",radixDocs:{primitive:"Tooltip",url:"https://www.radix-ui.com/primitives/docs/components/tooltip"}},argTypes:{intent:{control:"select",options:["normal","accent"],description:"Visual style variant"},side:{control:"select",options:["top","right","bottom","left"],description:"Position relative to trigger element"},align:{control:"select",options:["start","center","end"],description:"Alignment along the side"},sideOffset:{control:"number",description:"Distance from the trigger element"},alignOffset:{control:"number",description:"Offset along the alignment axis"},delayDuration:{control:"number",description:"Delay before showing tooltip (ms)"},content:{control:"text",description:"Tooltip content"}},decorators:[e=>s.jsx(Ve,{children:s.jsx("div",{className:"p-20",children:s.jsx(e,{})})})]},_={args:{content:"テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト",intent:"normal",side:"top",className:"!w-[670px] !max-w-none"},render:e=>s.jsx(C,{...e,children:s.jsx(k,{intent:"secondary",children:"Hover me"})})},D={render:()=>s.jsxs("div",{className:"gap-8 flex flex-col items-start",children:[s.jsxs("div",{className:"gap-4 flex items-center",children:[s.jsx("span",{className:"text-body-primary font-medium min-w-20",children:"Normal"}),s.jsx("span",{className:"text-body-secondary text-sm",children:"通常タイプ"}),s.jsx(C,{content:"テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト",intent:"normal",className:"!w-[670px] !max-w-none",children:s.jsx(k,{intent:"secondary",children:"Hover for Normal"})})]}),s.jsxs("div",{className:"gap-4 flex items-center",children:[s.jsx("span",{className:"text-body-primary font-medium min-w-20",children:"Accent"}),s.jsx("span",{className:"text-body-secondary text-sm",children:"強調タイプ"}),s.jsx(C,{content:"テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト",intent:"accent",side:"bottom",className:"!w-[670px] !max-w-none",children:s.jsx(k,{intent:"primary",children:"Hover for Accent"})})]})]})};var V,q,G;_.parameters={..._.parameters,docs:{...(V=_.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    content: 'テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト',
    intent: 'normal',
    side: 'top',
    className: '!w-[670px] !max-w-none'
  },
  render: args => <Tooltip {...args}>
      <Button intent="secondary">Hover me</Button>
    </Tooltip>
}`,...(G=(q=_.parameters)==null?void 0:q.docs)==null?void 0:G.source}}};var F,U,Y;D.parameters={...D.parameters,docs:{...(F=D.parameters)==null?void 0:F.docs,source:{originalSource:`{
  render: () => <div className="gap-8 flex flex-col items-start">
      <div className="gap-4 flex items-center">
        <span className="text-body-primary font-medium min-w-20">Normal</span>
        <span className="text-body-secondary text-sm">通常タイプ</span>
        <Tooltip content="テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト" intent="normal" className="!w-[670px] !max-w-none">
          <Button intent="secondary">Hover for Normal</Button>
        </Tooltip>
      </div>

      <div className="gap-4 flex items-center">
        <span className="text-body-primary font-medium min-w-20">Accent</span>
        <span className="text-body-secondary text-sm">強調タイプ</span>
        <Tooltip content="テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト" intent="accent" side="bottom" className="!w-[670px] !max-w-none">
          <Button intent="primary">Hover for Accent</Button>
        </Tooltip>
      </div>
    </div>
}`,...(Y=(U=D.parameters)==null?void 0:U.docs)==null?void 0:Y.source}}};const it=["Default","BothVariants"];export{D as BothVariants,_ as Default,it as __namedExportsOrder,at as default};
